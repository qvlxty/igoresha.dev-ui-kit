import { Meta, Controls, Story } from '@storybook/addon-docs/blocks';
import * as ContextMenu from './ContextMenu.stories'


<Meta of={ContextMenu} />

# Пример работы фабрики контекстного меню

Контекстное меню создается фабрикой createContextMenu. Фабрика инкапсулирует в себя некоторую effector бизнес-логику для работы компонента меню, а также его позиционирования.

Есть также поддержка стрелочных клавиш / space / enter

<Story>
    <ContextMenu.ExampleComponent />
</Story>



```tsx
import React from "react";
import { createContextMenu } from "./create-context-menu";
import { AiFillCalendar, AiFillSetting, AiFillMoon } from 'react-icons/ai'

export const {
    ContextMenu,
    openMenu
} = createContextMenu<string>()

export const ExampleComponent = () => {
    return (
        <>
            <Button onContextMenu={(e) => {
                e.preventDefault()
                openMenu({ e, payload: 'firstButton' })
            }}>Нажмите сюда правой кнопкой мыши</Button>
            <Button $danger onContextMenu={(e) => {
                e.preventDefault()
                openMenu({ e, payload: 'secondButton' })
            }}>Нажмите сюда правой кнопкой мыши</Button>
            <ContextMenu items={[
                { icon: <AiFillCalendar />, name: 'Calendar', action: (p) => alert(p) },
                { icon: <AiFillSetting />, name: 'Settings', action: () => alert('second') },
                { icon: <AiFillMoon />, name: 'Theme', action: () => alert('third') },
            ]} />
        </>
    )
}
```

